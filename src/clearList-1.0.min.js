/**
 * Clear List
 * @author David Schneidhoffer (@kisPocok)
 * @version 1.0
 */
var clearList=function(b){function p(a){return"number"===typeof a&&0==a%1}function f(a){return"#"==a.charAt(0)?a.substring(1,7):a}function m(a){return Math.min(255,Math.max(0,parseInt(a)))}var e,h,c,k,l,u,r,q,v,g,w=!1,j="clearList-save",x=function(a){b(a).each(function(a,b){s(b)})},s=function(a,d){var e=b("<li>"+a+"</li>");d&&e.addClass("done");b(c).append(e);w&&n();b(c).trigger("ITEM_ADDED").trigger("LIST_ACTION")},t=function(){b(c).find(">li").remove()},y=function(){var a=[];h.each(function(d,c){a[d]=
{title:b(c).text(),done:b(c).hasClass("done")?1:0}});var d=JSON.stringify(a);g.setItem(j,d);b(c).trigger("LIST_SAVED")},z=function(){(1>g.length||!g.hasOwnProperty(j)||"0"==g.getItem(j))&&b(c).trigger("LIST_LOAD_FAILED");t();var a=g.getItem(j),a=JSON.parse(a);b(a).each(function(a,b){s(b.title,b.done)});b(c).trigger("LIST_LOADED")},n=function(){h=b(c).find(">li");var a=Math.max(u,h.length-1),d=parseInt(f(k).substring(0,2),16),e=parseInt(f(k).substring(2,4),16),g=parseInt(f(k).substring(4,6),16),j=
	Math.abs((d-parseInt(f(l).substring(0,2),16))/a),n=Math.abs((e-parseInt(f(l).substring(2,4),16))/a),p=Math.abs((g-parseInt(f(l).substring(4,6),16))/a);h.each(function(a,h){var f=Math.round(d+j*a),k=Math.round(e+n*a),l=Math.round(g+p*a),q=["rgb(",m(f),",",m(k),",",m(l),")"].join(""),f=["rgb(",m(f-f/100*r),",",m(k-k/100*r),",",m(l-l/100*r),")"].join("");b(h).css({backgroundColor:q}).attr("data-hoverDiff",f).filter(":not(.inited)").addClass("inited").click(function(a){b(a.target).toggleClass("done");
	b(c).trigger("ITEM_CLICK").trigger("LIST_ACTION")}).hover(function(a){a=b(a.target);var c=a.attr("data-hoverDiff");a.hasClass("done")||a.attr("data-hoverDiff",a.css("backgroundColor")).css({backgroundColor:c})})})};return{author:"@kisPocok",version:"1.0",init:function(a,d){c=a;e=d||{};k=e.startHexColor||"e3252b";l=e.endHexColor||"eeba37";u=e.minClear||5;r=e.hoverDiff||10;q=e.autosave||!1;v=e.autoload||!1;g=e.storage||window.localStorage;j+=a;v?z():e.listItems&&x(e.listItems);b(c).on("ITEM_FINISHED",
	function(){1>b(c).find(":not(.done)").length&&b(c).trigger("LIST_FINISHED").trigger("LIST_ACTION")}).on("LIST_ACTION",function(){q&&y()});n();w=!0;return this},add:s,remove:function(a){a=b(c).find(">li")[a];b(a).remove();n();b(c).trigger("LIST_ACTION")},clean:function(){b(c).find(">li").filter(".done").remove();n();b(c).trigger("LIST_ACTION")},clear:t,finish:function(a){var d=b(h);p(a)&&(d=b(d.get(a)));d.addClass("done");b(c).trigger("ITEM_FINISHED").trigger("LIST_ACTION")},reset:function(a){var d=
	b(h);p(a)&&(d=b(d.get(a)));d.filter(".done").removeClass("done");b(c).trigger("LIST_RESTART").trigger("LIST_ACTION")},toggle:function(a){var d=b(h);p(a)&&(d=b(d.get(a)));d.toggleClass("done");b(c).trigger("LIST_ACTION")},restart:function(){t();x(e.listItems)},save:y,load:z,del:function(){g.setItem(j,0)},autosave:function(a){q=!!a}}}(jQuery);