/**
 * Clear List Project
 * @author David Schneidhoffer (@kisPocok)
 * @version 1.1
 * @see http://kispocok.github.io/ClearList/
 */
var clearList=function(){function n(a){return"number"===typeof a&&0==a%1}function d(a){return"#"==a.charAt(0)?a.substring(1,7):a}function l(a){return Math.min(255,Math.max(0,parseInt(a)))}var e,g,b,j,k,t,q,p,u,f,v=!1,h="clearList-save",x=function(a){$(a).each(function(a,b){r(b)})},r=function(a,c){var w=$("<li>"+a+"</li>");c&&w.addClass("done");$(b).append(w);v&&m();$(b).trigger("ITEM_ADDED").trigger("LIST_ACTION")},s=function(){$(b).find(">li").remove()},y=function(){var a=[];g.each(function(b,c){a[b]=
{title:$(c).text(),done:$(c).hasClass("done")?1:0}});var c=JSON.stringify(a);f.setItem(h,c);$(b).trigger("LIST_SAVED")},z=function(){if(1>f.length||!f.hasOwnProperty(h)||"0"==f.getItem(h))return $(b).trigger("LIST_LOAD_FAILED"),!1;s();var a=f.getItem(h),a=JSON.parse(a);$(a).each(function(a,b){r(b.title,b.done)});$(b).trigger("LIST_LOADED");return!0},m=function(){g=$(b).find(">li");var a=Math.max(t,g.length-1),c=parseInt(d(j).substring(0,2),16),e=parseInt(d(j).substring(2,4),16),f=parseInt(d(j).substring(4,
	6),16),h=Math.abs((c-parseInt(d(k).substring(0,2),16))/a),m=Math.abs((e-parseInt(d(k).substring(2,4),16))/a),n=Math.abs((f-parseInt(d(k).substring(4,6),16))/a);g.each(function(a,g){var d=Math.round(c+h*a),j=Math.round(e+m*a),k=Math.round(f+n*a),p=["rgb(",l(d),",",l(j),",",l(k),")"].join(""),d=["rgb(",l(d-d/100*q),",",l(j-j/100*q),",",l(k-k/100*q),")"].join("");$(g).css({backgroundColor:p}).attr("data-hoverDiff",d).filter(":not(.inited)").addClass("inited").click(function(a){$(a.target).toggleClass("done");
	$(b).trigger("ITEM_CLICK").trigger("LIST_ACTION")}).hover(function(a){a=$(a.target);var b=a.attr("data-hoverDiff");a.hasClass("done")||a.attr("data-hoverDiff",a.css("backgroundColor")).css({backgroundColor:b})})})};return{author:"@kisPocok",version:"1.1",init:function(a,c){b=a;e=c||{};j=e.startHexColor||"e3252b";k=e.endHexColor||"eeba37";t=e.minClear||5;q=e.hoverDiff||10;p=e.autosave||!1;u=e.autoload||!1;f=e.storage||window.localStorage;h+=a;var d=!1;u&&(d=z());!d&&e.listItems&&x(e.listItems);$(b).on("ITEM_FINISHED",
	function(){1>$(b).find(":not(.done)").length&&$(b).trigger("LIST_FINISHED").trigger("LIST_ACTION")}).on("LIST_ACTION",function(){p&&y()});m();v=!0;return this},add:r,remove:function(a){a=$(b).find(">li")[a];$(a).remove();m();$(b).trigger("LIST_ACTION")},clean:function(){$(b).find(">li").filter(".done").remove();m();$(b).trigger("LIST_ACTION")},clear:s,finish:function(a){var c=$(g);n(a)&&(c=$(c.get(a)));c.addClass("done");$(b).trigger("ITEM_FINISHED").trigger("LIST_ACTION")},reset:function(a){var c=
	$(g);n(a)&&(c=$(c.get(a)));c.filter(".done").removeClass("done");$(b).trigger("LIST_RESTART").trigger("LIST_ACTION")},toggle:function(a){var c=$(g);n(a)&&(c=$(c.get(a)));c.toggleClass("done");$(b).trigger("LIST_ACTION")},restart:function(){s();x(e.listItems)},save:y,load:z,del:function(){f.setItem(h,0)},autosave:function(a){p=!!a}}};window.clearList=clearList;